<!DOCTYPE html>
<html lang="sw">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Je, wewe ni aina gani? — 30 Maswali (Kiswahili)</title>
<meta name="description" content=chaguzio fupi la tabia nne: Sangwini, Melankolia, Pragmatiki, Kloriki. Maswali 30, yamerandamizwa, chaguzi hazionyeshi aina." />
<style>
:root{
  --bg:#07101a; --card:#0c1622; --muted:#9aa6b2; --text:#e6eef6;
  --accent:#38bdf8; --ok:#22c55e;
  --scol:#06b6d4; --mcol:#a78bfa; --pcol:#22c55e; --kcol:#f59e0b;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Arial;background:linear-gradient(180deg,var(--bg),#081226);color:var(--text)}
.wrap{max-width:960px;margin:18px auto;padding:16px}
.header{border-radius:12px;overflow:hidden;border:1px solid #122033;box-shadow:0 18px 50px rgba(0,0,0,.55)}
.header img{width:100%;height:220px;object-fit:cover;filter:brightness(.66)}
.header .meta{padding:14px}
.header h1{margin:0;font-size:1.5rem}
.header p{margin:.4rem 0 0;color:var(--muted)}
.card{background:var(--card);border:1px solid #13202a;border-radius:12px;padding:14px;margin-top:12px}
.lead{color:var(--muted)}
.progress{height:10px;background:#06121b;border-radius:999px;overflow:hidden;border:1px solid #153046}
.bar{height:100%;width:0;background:linear-gradient(90deg,var(--pcol),var(--accent))}
.q{padding:12px;border-radius:10px;border:1px solid #153048;margin:12px 0;background:linear-gradient(180deg,#071827,#071826)}
.q h3{margin:0 0 8px;font-size:1rem}
.opts{display:grid;gap:8px;grid-template-columns:repeat(1,1fr)}
@media(min-width:720px){.opts{grid-template-columns:repeat(2,1fr)}}
.opt{background:#081926;border:1px solid #173044;padding:10px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:10px}
.opt.active{outline:2px solid var(--accent);background:#0b2940}
.small{font-size:.95rem;color:var(--muted)}
.foot{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:12px}
.btn{background:var(--ok);color:#052e12;padding:10px 14px;border-radius:10px;border:none;font-weight:700;cursor:pointer}
.btn.secondary{background:transparent;border:1px solid #173044;color:var(--muted)}
.btn[disabled]{opacity:.6;cursor:not-allowed}
.result{display:none;margin-top:14px;padding:14px;border-radius:10px;background:linear-gradient(180deg,#07111a,#091826);border:1px solid #13303f}
.row{display:flex;align-items:center;gap:12px;margin:8px 0}
.typeBox{width:120px;font-weight:700}
.barWrap{flex:1;height:14px;background:#06121b;border-radius:999px;border:1px solid #153046;overflow:hidden}
.fill{height:100%;width:0}
.desc{margin-top:10px;color:var(--muted)}
.copy{display:inline-block;padding:8px 12px;background:#0ea5e9;color:#023047;border-radius:999px;text-decoration:none;font-weight:700}
.notice{margin-top:10px;font-size:.95rem;color:var(--muted)}
</style>
</head>
<body>
<div class="wrap">
  <header class="header">
    <img src="https://source.unsplash.com/1600x900/?people,team,faces" alt="watu tofauti" />
    <div class="meta">
      <h1>Wewe ni mtu wa aina gani kati ya tabia nne?</h1>
      <p class="small">Jaribio la maswali 30 — maswali na chaguzi zimerandamizwa; majibu hayahifadhiwi. Jibu kwa uaminifu.</p>
    </div>
  </header>

  <section class="card">
    <p class="lead"><strong>Kwa nini kufanya jaribio?</strong> Kujua mchanganyiko wako wa tabia kunaweza kukusaidia kuelewa namna unavyofanya kazi, kuwasiliana, na kuamua — hivyo kuchagua mwelekeo unaokufaa katika kazi, mahusiano na kujitawala.</p>
    <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap">
      <span class="small">Maswali: <span id="q-count">—</span></span>
      <span class="small">Lugha: Kiswahili</span>
      <span class="small">Faragha: Majibu yako hayaohifadhiwi</span>
    </div>
  </section>

  <section class="card" id="quizArea">
    <div class="progress" aria-label="Maendeleo"><div id="bar" class="bar"></div></div>
    <div id="questions"></div>

    <div class="foot">
      <div style="display:flex;gap:8px;align-items:center"><button id="submit" class="btn" disabled>Onyesha Matokeo</button><button id="reset" class="btn secondary" type="button">Anza Upya</button></div>
      <div class="small">Jibu kila swali kwa uaminifu — hakuna jibu sahihi zaidi ya jingine.</div>
    </div>

    <div id="result" class="result" role="region" aria-live="polite"></div>
  </section>

  <section class="card">
    <h3 class="small">Muhtasari mfupi wa aina nne</h3>
    <ul class="small">
      <li><strong>Sangwini:</strong> Mchangamfu, mshawishi, mpenzi wa mazungumzo.</li>
      <li><strong>Melankolia:</strong> Mtafakari, mpangaji, anayefikiria ubora.</li>
      <li><strong>Pragmatiki:</strong> Mtulivu, mvumilivu, mleta amani.</li>
      <li><strong>Kloriki:</strong> Mthubutu, kiongozi, mwenye tija.</li>
    </ul>
    <p class="notice">Matokeo ni kwa elimu tu. Ikiwa unahitaji ushauri wa kitaalamu, tafuta mtaalamu wa saikoloji au mshauri.</p>
  </section>
</div>

<script>
/* -------------------------
   Maswali 30 (Kiswahili)
   Chaguo 4 kila swali (mtindo: A,B,C,D internally map to S,M,P,K)
   Lakini tutaweka mapping ndani (haitoonyeshi kwa mtumiaji)
   ------------------------- */

const BANK = [
  {q:'Unapokutana na watu wapya, una tabia gani?', o:['Naanza kuzungumza kwa shauku','Natazamia kuona ni nani kabla ya kuongea','Nahitaji muda wa kujijulisha polepole','Naanza kwa kuongoza mazungumzo kwa lengo']},
  {q:'Kama kuna tatizo, unaanza wapi?', o:['Natafuta wenzangu ili kuzungumza na kupata mawazo','Natafanya uchambuzi kabla ya hatua','Ninajumuisha watu ili kupata suluhu ya pamoja','Nataka hatua za haraka kutatua tatizo']},
  {q:'Unapopewa kazi, unaipanga vipi?', o:['Natafuta jinsi ya kuifanya iwe ya kushirikisha','Ninaandika mpango wa kina','Ninaweka ratiba ya utulivu','Naiweka tarehe za mwisho na kuzifuatilia']},
  {q:'Je, una hisia gani unapofurahia jambo?', o:['Ninasherehekea na wengine','Ninaridhishwa kwa ukamilifu wa kazi','Nafurahia kwa utulivu ndani','Nafanya kazi zaidi ili kuendeleza mafanikio']},
  {q:'Kuhusu ngazi ya hatari unayokubali...', o:['Nina uwezo wa kuchukua hatari za kijamii','Ninazingatia hatari kwa undani','Ninaweka mipaka ya hatari niliyo nayo','Ninakubali hatari ikiwa inaendana na malengo']},
  {q:'Unavatambua vipi watu wapya?', o:['Kwa urahisi wa maongezi','Kwa kuangalia tabia zao kwa utulivu','Kwa kuwakaribisha taratibu','Kwa kuuliza kuhusu mafanikio yao']},
  {q:'Wakati wa mkutano, unafanya nini?', o:['Nahammasisha na kuleta nadharia','Natoa hoja za kina','Nashirikisha ili kila mtu asikilizwe','Nasisitiza hatua za utekelezaji']},
  {q:'Unaependa kazi yenye muundo gani?', o:['Iliwe ya muingiliano na watu','Iwe na muundo wa kina na taratibu','Iwe tulivu na ya rutini','Iwe yenye changamoto na matokeo']},
  {q:'Unapokosa kitu muhimu, una hatua gani?', o:['Namtumia mtu mwingine kumsaidia kwa urahisi','Natafanya mapitio ya kina ya sababu','Nataka tu suluhu ambayo haitumii mawimbi','Nailazimisha hatua ili kurekebisha haraka']},
  {q:'Kuhusu kuomba msaada, una tabia gani?', o:['Naimba kwa marafiki/mtandao','Nahitaji maelezo kabla ya kuomba','Natafuta mtu wa kuaminika kwa utulivu','Naanza kutafuta suluhu yenye utendaji']},
  {q:'Kama kuna sherehe, wewe ni...', o:['Mtu wa kusisimua na kuleta furaha','Mtu wa kupanga kila kitu kwa undani','Mtu wa kutunza utulivu wa tukio','Mtu wa kusimamia utekelezaji wa shughuli']},
  {q:'Unapokuwa chini ya msongo, una fanya nini?', o:['Natafuta mazungumzo ya kupumzika','Natafanya mpangilio wa shughuli ili kuondoa msongo','Natafuta muda wa kupumzika peke','Naanza kuondoa vikwazo mara moja']},
  {q:'Kuhusu matumizi ya pesa, una mwelekeo gani?', o:['Kutumia kwa uzoefu na watu','Kuweka mpango wa kifedha wa kina','Kuweka akiba kwa mahitaji ya msingi','Kuweka katika mradi unaotarajiwa kuleta faida']},
  {q:'Unaposema mtoto:"Tunaweza kufanya hivi", una maana gani?', o:['Naniwezeshe watu wengine kushiriki','Tunaweka taratibu kabla ya kufanya','Natumia njia ndogo ndogo kutekeleza','Nawahimiza kufuata mpango kwa tija']},
  {q:'Kuhusu kuomboleza au kulia, una mtazamo gani?', o:['Nashiriki hisia na wengine','Natafakari juu ya sababu','Natafuta utulivu wa ndani','Nataka hatua za kusaidia kwa vitendo']},
  {q:'Unapopigiwa simu ya kazi usiku, una tabia gani?', o:['Naomba nitafute muunganiko wa wenzangu','Ninaandika yaliyosemwa kwenye kumbukumbu','Ninalala na kurudi asubuhi nisivyo na msongo','Nafanya hatua zinazotakiwa mara moja']},
  {q:'Kuhusu jinsi unavyowasiliana, unalenga nini?', o:['Kuunda uhusiano wa karibu','Kutoa maelezo sahihi na kamili','Kusikiliza ili kuleta suluhu','Kutoa maagizo ya hatua']},
  {q:'Unapopendekeza wazo jipya, unahitaji nini?', o:['Kwa msaada na watu','Kwa ushahidi na nyaraka','Kwa muda wa kutulia na kufikiria','Kwa mpango wa utekelezaji wa hatua']},
  {q:'Kuhusu maamuzi ya kikundi, una nafasi gani?', o:['Nahamasiisha watu kuunga mkono','Natafanya tathmini ya hatari na faida','Natafuta mapendekezo ya kuleta amani','Natoa uamuzi wa kuanza utekelezaji']},
  {q:'Unapofurahia kupumzika, unafanya nini?', o:['Kuonana na marafiki au kusafiri','Kusoma au kuandika kwa utulivu','Kuzungumza na mtu wa karibu kimya','Kujishughulisha na mradi mdogo unaochochea matokeo']},
  {q:'Kuhusu tabia zako za kila siku, ni zipi?', o:['Natanua mitandao yangu ya kijamii','Ninaorodhesha shughuli kwa undani','Ninaanza polepole bila msukumo','Ninaweka malengo ndogo ya kila siku']},
  {q:'Unapochagua kazi unayotaka, unatafutaje?', o:['Mazingira yenye watu na mawasiliano','Kazi yenye utaratibu wa ubora','Kazi yenye ratiba tulivu','Kazi yenye changamoto za kuchukua uamuzi']},
  {q:'Kama kuna kazi ya kujifunza, unajifunza vipi?', o:['Kwa kufanya na kufundisha wengine','Kwa kusoma kwa undani na kuandika','Kwa kujaribu kidogo kidogo hadi ninaelewa','Kwa kutekeleza mara moja na kurekebisha']},
  {q:'Kuhusu kumtetea rafiki, una tabia gani?', o:['Ninaonekana mbele kwa ucheshi','Ninachunguza sababu kwa umakini','Ninamsaidia kwa njia tulivu na ya kufikirika','Nachukua hatua kufuatilia tatizo']},
  {q:'Kuhusu kuomba msamaha, una mtindo gani?', o:['Ninaomba kwa wazi na kwa dhati','Ninaelezea kwa undani kilichotokea','Ninatafuta njia ya kurekebisha uhusiano','Nafanya marekebisho ya haraka na hatua']},
  {q:'Kuhusu njia unazopenda kufanya kazi kwa timu, ni zipi?', o:['Kujenga morali na kushirikiana','Kuweka taratibu za ubora','Kuhakikisha kila mtu ana nafasi ya kuchangia','Kuweka malengo na kuchukua hatua za moja kwa moja']},
  {q:'Kuhusu jinsi unavyotaka watu wakufahamu, ni vipi?', o:['Kama mtu wa furaha na mwasilishaji','Kama mtu wa busara na mwenye ujuzi','Kama mtu wa kutegemewa na mwaminifu','Kama mtu wa kufanya kazi na kutimia malengo']},
  {q:'Kuhusu kuendesha mabadiliko, unaanza wapi?', o:['Kwa kuhamasisha watu na kushirikisha','Kwa kuandaa mpango wa kina','Kwa kujaribu hatua ndogo za mabadiliko','Kwa kuweka utekelezaji wa haraka na kupima']},
  {q:'Kuhusu jinsi unavyofanya uamuzi wa penye nguvu, ni namna gani?', o:['Kwa kushauriana na wengine kisha kuchukua hatua','Kwa kuchunguza data kabla ya kufanya uamuzi','Kwa kusubiri hali iwe tulivu kabla ya kuchukua hatua','Kwa kufanya uamuzi na kutekeleza mara moja']},
];

/* internal mapping: option index 0->S, 1->M, 2->P, 3->K for each question in BANK */
const TYPES = {S:'Sangwini', M:'Melankolia', P:'Pragmatiki', K:'Kloriki'};

function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];} return a; }

let QUESTIONS = [];

function prepare() {
  // build objects where each option has text and mapped type (but we will shuffle options)
  QUESTIONS = BANK.map(item=>{
    const typesOrder = ['S','M','P','K']; // default mapping for positions
    const opts = item.o.map((txt,idx)=>({text:txt, type: typesOrder[idx]}));
    // shuffle options to hide mapping position
    return { q: item.q, opts: shuffle(opts.slice()) };
  });
  // randomize order of questions
  QUESTIONS = shuffle(QUESTIONS).slice(0,30); // pick first 30 of shuffled bank
}

const DOM = {
  wrap: document.getElementById('questions'),
  submit: document.getElementById('submit'),
  reset: document.getElementById('reset'),
  bar: document.getElementById('bar'),
  result: document.getElementById('result'),
  qCount: document.getElementById('q-count')
};

function render(){
  prepare();
  DOM.wrap.innerHTML = '';
  QUESTIONS.forEach((it, idx)=>{
    const div = document.createElement('div'); div.className='q';
    const qnum = idx+1;
    div.innerHTML = `<h3>${qnum}. ${it.q}</h3><div class="opts" data-q="${idx}"></div>`;
    DOM.wrap.appendChild(div);
    const optsWrap = div.querySelector('.opts');
    // shuffle again per question to be safe
    const optsSh = shuffle(it.opts.slice());
    optsSh.forEach(opt=>{
      const lab = document.createElement('label');
      lab.className = 'opt'; lab.setAttribute('data-q', idx); lab.setAttribute('data-type', opt.type);
      lab.innerHTML = `<input type="radio" name="q_${idx}" value="${opt.type}" style="display:none"><span>${opt.text}</span>`;
      optsWrap.appendChild(lab);
    });
  });
  DOM.qCount.textContent = QUESTIONS.length;
  DOM.wrap.addEventListener('click', e=>{
    const opt = e.target.closest('.opt'); if(!opt) return;
    const qi = opt.getAttribute('data-q');
    document.querySelectorAll(`label.opt[data-q="${qi}"]`).forEach(n=>n.classList.remove('active'));
    opt.classList.add('active');
    opt.querySelector('input').checked = true;
    updateProgress();
  });
  DOM.submit.addEventListener('click', onSubmit);
  DOM.reset.addEventListener('click', resetAll);
  updateProgress();
}

function answers(){
  return QUESTIONS.map((_, idx)=>{
    const checked = document.querySelector(`input[name="q_${idx}"]:checked`);
    return checked ? checked.value : null;
  });
}

function updateProgress(){
  const vals = answers();
  const answered = vals.filter(v=>v!==null).length;
  const pct = Math.round((answered/QUESTIONS.length)*100);
  DOM.bar.style.width = pct+'%';
  DOM.submit.disabled = answered !== QUESTIONS.length;
}

function onSubmit(){
  const vals = answers();
  if(vals.some(v=>v===null)) return;
  const tally = {S:0,M:0,P:0,K:0};
  vals.forEach(v=>tally[v]++);
  const total = vals.length;
  const pct = Object.fromEntries(Object.entries(tally).map(([k,v])=>[k, Math.round((v/total)*100)]));
  const sorted = Object.entries(pct).sort((a,b)=>b[1]-a[1]);
  const [domK, domPct] = sorted[0];
  const [secK, secPct] = sorted[1];
  const expl = {
    S: 'Sangwini — Mchangamfu, mshawishi, mpenzi wa mazungumzo na kuleta morale. Unafaa katika timu za watu na kazi za kuhamasisha; fanya kazi kuongeza mpangilio ili kuepuka kuchelewa.',
    M: 'Melankolia — Mtafakari, mpenda undani na ubora. Unachangia uangalizi na ubora; epuka kujikosoa kupita kiasi na jaribu kushirikiana bila kujiona mdogo.',
    P: 'Pragmatiki — Mtulivu, mvumilivu, mleta utulivu na uthabiti. Umefaa katika kazi za uendelevu na utendaji wa muda mrefu; jaribu kuchukua hatua mara kwa mara kuzuia kupitwa na fursa.',
    K: 'Kloriki — Mthubutu, kiongozi, mwenye malengo na tija. Una uwezo wa kusukuma matendo; fanya kazi ya kutoa subira na kusikiliza maoni tofauti ili kupata ushirikiano.'
  };

  const rows = ['S','M','P','K'].map(k=>{
    const color = k==='S'? '--scol':k==='M'?'--mcol':k==='P'?'--pcol':'--kcol';
    const col = getComputedStyle(document.documentElement).getPropertyValue(color) || '#fff';
    return `<div class="row"><div class="typeBox">${TYPES[k]}</div><div class="barWrap"><div class="fill" style="width:${pct[k]}%;background:${col}"></div></div><div style="width:48px;text-align:right">${pct[k]}%</div></div>`;
  }).join('');

  const summary = `<p style="margin-top:8px"><strong>Aina inayoongoza:</strong> ${TYPES[domK]} (${domPct}%) &nbsp; <strong>Ya pili:</strong> ${TYPES[secK]} (${secPct}%)</p>
  <p class="desc"><strong>Maelezo (kikawaida):</strong> ${expl[domK]}</p>
  <p class="desc"><strong>Maelezo ya pili:</strong> ${expl[secK]}</p>
  <p class="desc">Kumbuka: hiki ni kipimo cha elimu tu; hakuna mtu anayefaa kuwa 100% aina moja. Tumia matokeo haya kutambua nguvu zako na maeneo ya kuboresha.</p>
  <p style="margin-top:8px"><a class="copy" id="copyBtn" href="#">Nakili muhtasari mfupi</a></p>`;

  DOM.result.style.display = 'block';
  DOM.result.innerHTML = `<h2>Matokeo Yako</h2>${rows}${summary}`;
  DOM.result.scrollIntoView({behavior:'smooth', block:'start'});

  document.getElementById('copyBtn').addEventListener('click', e=>{
    e.preventDefault();
    const text = `Matokeo: ${TYPES[domK]} ${domPct}%; ${TYPES[secK]} ${secPct}%.`;
    navigator.clipboard?.writeText(text);
    e.target.textContent = 'Imenakiliwa!';
    setTimeout(()=> e.target.textContent = 'Nakili muhtasari mfupi', 1400);
  });
}

function resetAll(){
  document.querySelectorAll('input[type=radio]').forEach(r=>r.checked=false);
  document.querySelectorAll('.opt').forEach(o=>o.classList.remove('active'));
  DOM.result.style.display='none';
  DOM.result.innerHTML='';
  updateProgress();
  window.scrollTo({top:0,behavior:'smooth'});
}

// initialize
render();

</script>
</body>
</html>
